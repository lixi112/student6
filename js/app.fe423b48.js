(function(){var t={4530:function(){},6837:function(){},8108:function(){},12499:function(){},18590:function(){},22009:function(){},27806:function(){},41234:function(){},60143:function(){},60506:function(t,e,i){"use strict";var a=i(85471),s=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"line"}),e("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":t.activeIndex2,mode:"horizontal","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b","collapse-transition":"",router:"true"},on:{select:t.handleSelect}},[e("el-menu-item",{attrs:{index:"/"}},[t._v("首页")]),e("el-menu-item",{attrs:{index:"/kj"}},[t._v("课件")]),e("el-submenu",{attrs:{index:"2"}},[e("template",{slot:"title"},[t._v("课程")]),e("el-submenu",{attrs:{index:"3"}},[e("template",{slot:"title"},[t._v("趣味课堂")]),e("el-menu-item",{attrs:{index:"/singtwo"}},[t._v("ai趣味导入 ")]),e("el-menu-item",{attrs:{index:"/xintwo"}},[t._v("声势小游戏 ")])],2),e("el-submenu",{attrs:{index:"4"}},[e("template",{slot:"title"},[t._v("学唱歌曲")]),e("el-menu-item",{attrs:{index:"/createtwo"}},[t._v(" 唱歌方法")]),e("el-menu-item",{attrs:{index:"/singthree"}},[t._v(" 让我们们看看歌词")]),e("el-menu-item",{attrs:{index:"/createthree"}},[t._v(" 火车小游戏")]),e("el-menu-item",{attrs:{index:"/about"}},[t._v(" 音乐小游戏")])],2),e("el-submenu",{attrs:{index:"5"}},[e("template",{slot:"title"},[t._v("创意实践")]),e("el-menu-item",{attrs:{index:"/one"}},[t._v(" 乐器编创")]),e("el-menu-item",{attrs:{index:"/three"}},[t._v(" 作业提交")]),e("el-menu-item",{attrs:{index:"/xinthree"}},[t._v(" AI创作")]),e("el-menu-item",{attrs:{index:"/two"}},[t._v(" 你想评论什么呢？")])],2)],2)],1),e("div",{attrs:{id:"app"}},[e("router-view")],1)],1)},n=[],r={components:{},data(){return{activeRoute:null,activeIndex:"1",activeIndex2:"1"}},created(){this.activeRoute=this.$route.path,this.$router.afterEach((t=>{this.activeRoute=t.path}))},methods:{handleSelect(t,e){console.log(t,e)}}},o=r,l=i(81656),c=(0,l.A)(o,s,n,!1,null,"52eca898",null),u=c.exports,d=i(40173),p=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("h1",{staticClass:"title"},[t._v("🚢 小船音乐课 🎵")]),e("div",{staticClass:"grid"},t._l(t.menuItems,(function(i,a){return e("router-link",{key:a,class:["grid-item",i.color],style:{backgroundImage:`url(${i.image})`,color:i.textColor},attrs:{to:i.path}},[e("span",{staticClass:"icon"},[t._v(t._s(i.icon))]),t._v(" "+t._s(i.text)+" ")])})),1)])},m=[],h={name:"HomePage",data(){return{menuItems:[{path:"/singtwo",text:"AI趣味导入",image:"AI.jpg",textColor:"#000"},{path:"/xintwo",text:"声势游戏",image:"ss.jpg",textColor:"#000"},{path:"/createtwo",text:"唱歌方法",image:"th.jpg",textColor:"#000"},{path:"/singthree",text:"歌词",image:"pz.jpg",textColor:"#000"},{path:"/createthree",text:"火车小游戏",image:"hc.jpg",textColor:"#000"},{path:"/about",text:"音乐小游戏",image:"game.jpg",textColor:"#000"},{path:"/one",text:"乐器编创",image:"yueqi.jpg",textColor:"#000"},{path:"/three",text:"作业提交",image:"zy.jpg",textColor:"#000"},{path:"/xinthree",text:"AI创造",image:"3.jpg",textColor:"#000"},{path:"/two",text:"平台评论",image:"pl.jpg",textColor:"#000"}]}}},v=h,g=(0,l.A)(v,p,m,!1,null,"22360c2c",null),f=g.exports,y=function(){var t=this;t._self._c;return t._m(0)},C=[function(){var t=this,e=t._self._c;return e("div",[e("p",[t._v("观看视频，让我们学习一下声断气连")]),e("video",{attrs:{src:"sdql.mp4",controls:"",width:"700px",height:"400px",preload:"auto",poster:"image.png"}})])}],_={props:{},data(){return{dp:{}}},mounted(){},methods:{}},b=_,w=(0,l.A)(b,y,C,!1,null,null,null),x=w.exports,k=function(){var t=this,e=t._self._c;return e("instru-ment")},A=[],I=function(){var t=this,e=t._self._c;return e("div",{staticClass:"game-container"},[e("audio",{ref:"bgm",attrs:{src:t.musicSrc},on:{timeupdate:t.updateTime}}),e("div",{staticClass:"rhythm-bar"},t._l(t.beats,(function(i,a){return e("div",{key:a,class:["beat-indicator",{active:t.isActiveBeat(i.time)}]})})),0),e("div",{staticClass:"instrument-container"},t._l(t.instruments,(function(i,a){return e("button",{key:a,staticClass:"instrument",on:{click:function(e){return t.playSound(i)}}},[t._v(" "+t._s(i.name)+" ")])})),0),e("div",{staticClass:"score"},[t.scoreMessage?e("p",[t._v(t._s(t.scoreMessage))]):t._e()]),e("button",{staticClass:"start-btn",on:{click:t.startGame}},[t._v("开始游戏")]),e("router-link",{staticClass:"magic-jump-button",attrs:{to:"/one","active-class":"active-portal"}},[e("span",{staticClass:"portal-icon"},[t._v("🚪")]),e("span",{staticClass:"button-text"},[t._v("乐器编创")]),e("div",{staticClass:"portal-effects"})])],1)},P=[],S=(i(44114),i(18111),i(18237),{data(){return{musicSrc:"xiaochuang.mp3",beats:[.5,1,1.5,2,2.5,3,3.5,4,7,10,13,20,25,27,33,38,40,49,55],clickTimes:[],scoreMessage:"",instruments:[{name:"鼓",sound:"gu.wav"},{name:"三角铁",sound:"sanjiaotie.wav"},{name:"木鱼",sound:"muyu.wav"}]}},methods:{startGame(){this.$refs.bgm.currentTime=0,this.$refs.bgm.play(),this.clickTimes=[]},updateTime(){const t=this.$refs.bgm.currentTime;this.checkBeats(t)},playSound(t){const e=new Audio(t.sound);e.play();const i=this.$refs.bgm.currentTime;this.clickTimes.push(i),this.evaluateTiming(i)},evaluateTiming(t){const e=this.beats.reduce(((e,i)=>Math.abs(i-t)<Math.abs(e-t)?i:e)),i=Math.abs(e-t);this.scoreMessage=i<.1?"完美!":i<.2?"良好!":"错误!",setTimeout((()=>{this.scoreMessage=""}),1e3)},isActiveBeat(t){return this.$refs.bgm&&Math.abs(this.$refs.bgm.currentTime-t)<.1}}}),T=S,D=(0,l.A)(T,I,P,!1,null,"1cc1ce4e",null),M=D.exports,j={components:{InstruMent:M},data(){return{}}},N=j,$=(0,l.A)(N,k,A,!1,null,null,null),E=$.exports,R=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"music-control"},[e("h2",[t._v("《小船》奥尔夫伴奏编创")]),e("button",{on:{click:t.toggleMusic}},[t._v(t._s(t.isMusicPlaying?"停止音乐":"开始音乐"))])]),e("img",{attrs:{alt:"puzi",src:"pz1.jpg"}}),e("div",{staticClass:"instrument-section"},[e("h3",[t._v("选择伴奏乐器：")]),e("div",{staticClass:"instrument-buttons"},t._l(t.instruments,(function(i){return e("button",{key:i.name,class:{active:t.currentInstrument?.name===i.name},on:{click:function(e){return t.selectInstrument(i)}}},[e("img",{staticClass:"instrument-icon",attrs:{src:`${i.image}`,alt:i.label}}),t._v(" "+t._s(i.label)+" ")])})),0)]),e("div",{staticClass:"movement-section"},[e("h3",[t._v("声势动作：")]),e("div",{staticClass:"movement-buttons"},[e("button",{on:{click:function(e){return t.playSound("clap")}}},[t._v("👏 拍手")]),e("button",{on:{click:function(e){return t.playSound("stomp")}}},[t._v("🦶 跺脚")])])]),e("div",{staticClass:"status"},[e("p",[t._v("🎵 背景音乐状态："+t._s(t.isMusicPlaying?"播放中":"已停止"))]),t.currentInstrument?e("p",[t._v("🎶 当前乐器："+t._s(t.currentInstrument.label)+"（"+t._s(t.isInstrumentPlaying?"演奏中":"待机")+"）")]):t._e()]),e("router-link",{staticClass:"magic-jump-button",attrs:{to:"/three","active-class":"active-portal"}},[e("span",{staticClass:"portal-icon"},[t._v("🚪")]),e("span",{staticClass:"button-text"},[t._v("作业提交")]),e("div",{staticClass:"portal-effects"})])],1)},O=[],F=(i(20116),i(94196)),G={data(){return{isMusicPlaying:!1,selectedInstrument:null,backgroundMusic:null,instrumentSound:null,instruments:[{name:"bell",label:"鼓",sound:"gu.wav",image:"gu.jpg"},{name:"triangle",label:"三角铁",sound:"sanjiaotie.wav",image:"sanjiaotie.jpg"},{name:"woodblock",label:"木鱼",sound:"muyu.wav",image:"muyu.jpg"},{name:"linggu",label:"铃鼓",sound:"linggu1.wav",image:"linggu.jpg"},{name:"shagu",label:"沙鼓",sound:"daaji.wav",image:"shagu.jpg"}],soundEffects:{clap:new F.Howl({src:"paishou.mp3"}),stomp:new F.Howl({src:"duojiao.wav"})}}},computed:{selectedInstrumentLabel(){return this.instruments.find((t=>t.name===this.selectedInstrument))?.label||"无"},isInstrumentPlaying(){return this.instrumentSound?.playing()||!1}},mounted(){this.backgroundMusic=new F.Howl({src:"xiaochuang.mp3",loop:!0,volume:.5}),window.addEventListener("keydown",this.handleKeyPress)},beforeDestroy(){this.backgroundMusic.unload(),window.removeEventListener("keydown",this.handleKeyPress)},methods:{toggleMusic(){this.isMusicPlaying?(this.backgroundMusic.pause(),this.stopInstrument()):(this.backgroundMusic.play(),this.startInstrument()),this.isMusicPlaying=!this.isMusicPlaying},selectInstrument(t){this.instrumentSound&&this.instrumentSound.stop(),this.currentInstrument=t,this.instrumentSound=new F.Howl({src:[t.sound],loop:!0,volume:.8,onload:()=>{this.isMusicPlaying&&this.instrumentSound.play()}})},startInstrument(){if(this.currentInstrument&&!this.isInstrumentPlaying){const t=this.backgroundMusic.seek();this.instrumentSound.seek(t%this.instrumentSound.duration()),this.instrumentSound.play()}},stopInstrument(){this.instrumentSound&&this.instrumentSound.pause()},stopAllSounds(){this.backgroundMusic.stop(),this.stopInstrument(),this.isMusicPlaying=!1},playSound(t){if("instrument"===t&&this.selectedInstrument){const t=this.instruments.find((t=>t.name===this.selectedInstrument));new F.Howl({src:[t.sound]}).play()}else this.soundEffects[t]&&this.soundEffects[t].play()},handleKeyPress(t){switch(t.code){case"Space":this.playSound("clap"),t.preventDefault();break;case"Enter":this.playSound("stomp");break}}}},K=G,U=(0,l.A)(K,R,O,!1,null,"74a00f1a",null),z=U.exports,L=function(){var t=this,e=t._self._c;return e("div",{staticClass:"comment-system"},[e("div",{staticClass:"comment-form"},[e("h3",[t._v("发表评论")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newComment,expression:"newComment"}],attrs:{placeholder:"输入评论内容...",rows:"3"},domProps:{value:t.newComment},on:{input:function(e){e.target.composing||(t.newComment=e.target.value)}}}),e("button",{on:{click:t.addComment}},[t._v("提交评论")])]),e("div",{staticClass:"comment-list"},t._l(t.comments,(function(i){return e("div",{key:i.id,staticClass:"comment-item"},[e("div",{staticClass:"comment-content"},[e("div",{staticClass:"comment-header"},[e("span",{staticClass:"author"},[t._v("用户"+t._s(i.author))]),e("span",{staticClass:"author-avatar",style:i.avatarStyle}),e("span",{staticClass:"time"},[t._v(t._s(i.time))])]),e("p",[t._v(t._s(i.content))]),e("button",{staticClass:"reply-btn",on:{click:function(e){return t.toggleReply(i.id)}}},[t._v(" 回复 ")])]),t.activeReply===i.id?e("div",{staticClass:"reply-form"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newReply,expression:"newReply"}],attrs:{placeholder:"输入回复内容...",rows:"2"},domProps:{value:t.newReply},on:{input:function(e){e.target.composing||(t.newReply=e.target.value)}}}),e("button",{on:{click:function(e){return t.addReply(i.id)}}},[t._v("提交回复")]),e("button",{on:{click:t.cancelReply}},[t._v("取消")])]):t._e(),i.replies&&i.replies.length?e("div",{staticClass:"replies"},t._l(i.replies,(function(i){return e("div",{key:i.id,staticClass:"reply-item"},[e("div",{staticClass:"reply-content"},[e("div",{staticClass:"reply-header"},[e("span",{staticClass:"author"},[t._v("用户"+t._s(i.author))]),e("span",{staticClass:"time"},[t._v(t._s(i.time))])]),e("p",[t._v(t._s(i.content))])])])})),0):t._e()])})),0)])},V=[],q={data(){return{newComment:"",newReply:"",activeReply:null,comments:[{id:1,author:"未来可期",content:"这个平台用起来真方便呀",time:"2023-08-10 10:00",replies:[{id:11,parentId:1,author:"李四",content:"是啊，我们村的孩子们天天盼着上音乐课！",time:"2023-08-10 10:30"}]},{id:1,author:"夏天的风",content:"很棒！非常适合音乐老师上课使用！推荐推荐！",time:"2023-08-10 11:00"}]}},methods:{generateAvatar(){const t=[["#ff6b6b","#ff8787"],["#4dabf7","#339af0"],["#40c057","#51cf66"],["#f783ac","#f06595"],["#ffd43b","#fcc419"],["#9c36b5","#ae3ec9"]],e=t[Math.floor(Math.random()*t.length)];return{background:`linear-gradient(135deg, ${e[0]}, ${e[1]})`}},addComment(){this.newComment.trim()&&(this.comments.push({id:Date.now(),author:"匿名",content:this.newComment,time:(new Date).toLocaleString(),replies:[],avatarStyle:this.generateAvatar()}),this.newComment="")},addReply(t){if(!this.newReply.trim())return;const e=this.comments.find((e=>e.id===t));e&&(e.replies.push({id:Date.now(),parentId:t,author:"匿名",content:this.newReply,time:(new Date).toLocaleString(),avatarStyle:this.generateAvatar()}),this.cancelReply())},toggleReply(t){this.activeReply=this.activeReply===t?null:t},cancelReply(){this.activeReply=null,this.newReply=""}}},Y=q,B=(0,l.A)(Y,L,V,!1,null,"41032215",null),H=B.exports,X=function(){var t=this,e=t._self._c;return e("div",{staticClass:"h5-wrapper"},[e("div",{staticClass:"content"},[e("zuo-ye"),e("router-link",{staticClass:"magic-jump-button",attrs:{to:"/xinthree","active-class":"active-portal"}},[e("span",{staticClass:"portal-icon"},[t._v("🚪")]),e("span",{staticClass:"button-text"},[t._v("AI创作")]),e("div",{staticClass:"portal-effects"})])],1)])},W=[],Z=function(){var t=this,e=t._self._c;return e("div",{staticClass:"assignment-container"},[t._m(0),e("div",{staticClass:"upload-section",class:{"drag-active":t.dragover},on:{dragover:function(e){e.preventDefault(),t.dragover=!0},dragleave:function(e){t.dragover=!1},drop:function(e){return e.preventDefault(),t.handleDrop.apply(null,arguments)}}},[e("div",{staticClass:"upload-wrapper"},[t._m(1),e("input",{attrs:{type:"file",id:"audioInput",accept:"audio/*",disabled:t.isUploading},on:{change:t.handleFileChange}}),e("label",{staticClass:"file-label",attrs:{for:"audioInput"}},[t._v(" "+t._s(t.fileLabelText)+" ")]),e("div",{staticClass:"hint-text"},[t._v("支持格式：MP3, WAV, OGG")])]),e("button",{staticClass:"submit-btn",attrs:{disabled:!t.audioFile||t.isUploading},on:{click:t.handleUpload}},[t.isUploading?e("div",{staticClass:"loading"},[e("div",{staticClass:"dot-flashing"})]):e("span",[t._v("🚀 提交作业")])])]),e("transition",{attrs:{name:"score-fade"}},[null!==t.score?e("div",{staticClass:"result-section"},[e("div",{staticClass:"result-card"},[e("div",{staticClass:"file-info"},[e("i",{staticClass:"fas fa-file-audio"}),e("span",[t._v(t._s(t.audioFile.name))])]),e("div",{staticClass:"score-display"},[e("div",{staticClass:"score-label"},[t._v("综合评分")]),e("div",{staticClass:"score-value"},[t._v(t._s(t.score))]),e("div",{staticClass:"score-bar"},[e("div",{staticClass:"progress",style:{width:t.score+"%"}})]),e("div",{staticClass:"score-tips"},[t._v(" "+t._s(t.getScoreTips(t.score))+" ")])])])]):t._e()])],1)},J=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"header"},[e("h1",[t._v("🎵 音频作业提交系统")]),e("p",[t._v("上传你的音频作品，获取即时评分")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"icon-box"},[e("i",{staticClass:"fas fa-cloud-upload-alt"})])}],Q={data(){return{isUploading:!1,score:null,audioFile:null,dragover:!1}},computed:{fileLabelText(){return this.audioFile?this.audioFile.name:"点击选择或拖拽音频文件到这里"}},methods:{handleDrop(t){this.dragover=!1;const e=t.dataTransfer.files[0];this.validateAndSetFile(e)},handleFileChange(t){const e=t.target.files[0];this.validateAndSetFile(e)},validateAndSetFile(t){t&&t.type.startsWith("audio/")?this.audioFile=t:(this.showError("请选择有效的音频文件"),this.audioFile=null)},async handleUpload(){try{this.isUploading=!0,await new Promise((t=>setTimeout(t,2e3))),this.generateRandomScore()}finally{this.isUploading=!1}},generateRandomScore(){const t=60,e=100;this.score=Math.floor(Math.random()*(e-t+1))+t},getScoreTips(t){return t>=90?"完美表现！继续保持！🎉":t>=80?"非常不错，还有提升空间！👍":t>=70?"良好，继续努力！💪":"加油，下次会更好！✨"},showError(t){alert(t)}}},tt=Q,et=(0,l.A)(tt,Z,J,!1,null,"73e96911",null),it=et.exports,at={components:{ZuoYe:it},data(){return{active:0}}},st=at,nt=(0,l.A)(st,X,W,!1,null,"921fd9e8",null),rt=nt.exports,ot=function(){var t=this,e=t._self._c;return e("ai")},lt=[],ct=function(){var t=this,e=t._self._c;return e("div",[e("input",{attrs:{type:"file",accept:"image/*"},on:{change:t.onFileUpload}}),t.essay?e("div",[e("h3",[t._v("生成的小作文：")]),e("p",[t._v(t._s(t.essay))])]):t._e()])},ut=[],dt=(i(61701),i(60336)),pt=i(98366),mt={name:"AI",data(){return{model:null,essay:""}},async mounted(){await dt.Gc4(),this.model=await pt.H()},methods:{async onFileUpload(t){const e=t.target.files[0];if(!e)return;const i=await this.loadImage(e),a=await this.model.classify(i),s=a.slice(0,3).map((t=>({name:t.className.replace(/,/g,"、"),prob:Math.round(100*t.probability)})));this.generateEssay(s)},loadImage(t){return new Promise((e=>{const i=new FileReader;i.onload=t=>{const i=new Image;i.src=t.target.result,i.onload=()=>e(i)},i.readAsDataURL(t)}))},generateEssay(t){this.essay=`这张图片让我联想到${t[0].name}。从细节来看，画面中可能有${t[1].name}和${t[2].name}的元素。        整体风格给人一种${this.getAdjective(t[0].prob)}的感觉，        尤其是${t[0].name}的部分，可能性高达${t[0].prob}%。        这让我不禁想起${this.getRandomTheme()}的场景，真是令人印象深刻！`},getAdjective(t){return t>90?"非常鲜明":t>70?"较为清晰":"朦胧神秘"},getRandomTheme(){const t=["夏日海滩","城市夜景","自然风光","历史建筑"];return t[Math.floor(Math.random()*t.length)]}}},ht=mt,vt=(0,l.A)(ht,ct,ut,!1,null,null,null),gt=vt.exports,ft={components:{Ai:gt}},yt=ft,Ct=(0,l.A)(yt,ot,lt,!1,null,null,null),_t=Ct.exports,bt=function(){var t=this,e=t._self._c;return e("div")},wt=[],xt={},kt=xt,At=(0,l.A)(kt,bt,wt,!1,null,null,null),It=At.exports,Pt=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("Yinxiao"),e("AIpicture")],1)},St=[],Tt=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("h1",[t._v("AI趣味图片生成")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.inputText,expression:"inputText"}],staticClass:"input-field",attrs:{type:"text",placeholder:"输入描述..."},domProps:{value:t.inputText},on:{input:function(e){e.target.composing||(t.inputText=e.target.value)}}}),e("button",{staticClass:"generate-button",on:{click:t.openImageGenerator}},[t._v("点击我，我带你去另外一个世界")]),e("router-link",{staticClass:"magic-jump-button",attrs:{to:"/xintwo","active-class":"active-portal"}},[e("span",{staticClass:"portal-icon"},[t._v("🚪")]),e("span",{staticClass:"button-text"},[t._v("声势游戏")]),e("div",{staticClass:"portal-effects"})])],1)},Dt=[],Mt={data(){return{inputText:""}},methods:{openImageGenerator(){const t="https://www.whee.com/ai/text-to-image?source=home_page";window.open(t,"_blank")}}},jt=Mt,Nt=(0,l.A)(jt,Tt,Dt,!1,null,"6bd8d08c",null),$t=Nt.exports,Et=function(){var t=this,e=t._self._c;return e("div",[e("button",{staticClass:"toggle-nav-btn",on:{click:t.toggleNav}},[t._v(" "+t._s(t.isNavVisible?"隐藏导航":"显示导航")+" ")]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isNavVisible,expression:"isNavVisible"}],staticClass:"left-sound-bar"},t._l(t.sounds,(function(i){return e("div",{key:i.id,staticClass:"nav-sound-item",class:{playing:i.isPlaying}},[e("div",{staticClass:"nav-button-wrapper"},[e("div",{staticClass:"nav-play-button",style:{backgroundImage:`url(${i.imageUrl})`},on:{click:function(e){return t.togglePlay(i)}}},[e("div",{staticClass:"nav-play-icon"},[t._v(" "+t._s(i.isPlaying?"⏸":"▶")+" ")])]),e("transition",{attrs:{name:"slide"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:i.isPlaying,expression:"sound.isPlaying"}],staticClass:"nav-controls"},[e("input",{directives:[{name:"model",rawName:"v-model.number",value:i.volume,expression:"sound.volume",modifiers:{number:!0}}],staticClass:"nav-volume-slider",attrs:{type:"range",min:"0",max:"100"},domProps:{value:i.volume},on:{input:function(e){return t.updateVolume(i)},__r:function(e){t.$set(i,"volume",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),e("span",{staticClass:"sound-name"},[t._v(t._s(i.name))])])])],1)])})),0),e("div",{staticClass:"image-display-area"},[e("transition-group",{attrs:{name:"image-fade"}},t._l(t.displayedImages,(function(i){return e("div",{key:i.id,staticClass:"floating-image",style:{left:i.position.x+"px",top:i.position.y+"px",zIndex:i.zIndex},on:{mousedown:function(e){return t.startDrag(i,e)},touchstart:function(e){return e.preventDefault(),t.startDrag(i,e)}}},[e("img",{staticClass:"display-image",attrs:{src:i.url,alt:"音效图片"}}),e("div",{staticClass:"close-btn",on:{click:function(e){return t.removeImage(i.id)}}},[t._v("×")])])})),0)],1)])},Rt=[];i(22489),i(7588);let Ot=1e3;var Ft={name:"YInxiao",data(){return{isNavVisible:!0,displayedImages:[],dragState:{isDragging:!1,currentImage:null,startX:0,startY:0},sounds:[{id:1,name:"风声",file:"wind.mp3",imageUrl:"wind.jpg",isPlaying:!1,volume:50,audio:null},{id:2,name:"鸟鸣声",file:"birds.mp3",imageUrl:"bird.jpg",isPlaying:!1,volume:50,audio:null},{id:3,name:"海浪声",file:"sea1.mp3",imageUrl:"sea.jpg",isPlaying:!1,volume:50,audio:null}]}},mounted(){this.initializeAudio()},beforeDestroy(){this.stopAll()},methods:{toggleNav(){this.isNavVisible=!this.isNavVisible},initializeAudio(){this.sounds.forEach((t=>{t.audio=new Audio(t.file),t.audio.volume=t.volume/100,t.audio.addEventListener("ended",(()=>{t.isPlaying=!1}))}))},togglePlay(t){t.isPlaying||this.addImageToDisplay(t.imageUrl),t.isPlaying?t.audio.pause():t.audio.play(),t.isPlaying=!t.isPlaying;const e=event.currentTarget,i=document.createElement("div");i.className="ripple",e.appendChild(i),setTimeout((()=>i.remove()),600)},updateVolume(t){t.audio.volume=t.volume/100},stopAll(){this.sounds.forEach((t=>{t.audio&&(t.audio.pause(),t.audio.currentTime=0)}))},addImageToDisplay(t){const e=window.innerWidth,i=window.innerHeight;this.displayedImages.push({id:Date.now()+Math.random(),url:t,position:{x:Math.random()*(e-200),y:Math.random()*(i-200)},zIndex:Ot++})},removeImage(t){this.displayedImages=this.displayedImages.filter((e=>e.id!==t))},startDrag(t,e){const{clientX:i,clientY:a}=e.touches?e.touches[0]:e;this.dragState={isDragging:!0,currentImage:t,startX:i-t.position.x,startY:a-t.position.y},document.addEventListener("mousemove",this.handleDrag),document.addEventListener("mouseup",this.stopDrag),document.addEventListener("touchmove",this.handleDrag),document.addEventListener("touchend",this.stopDrag)},handleDrag(t){if(!this.dragState.isDragging)return;t.preventDefault();const{clientX:e,clientY:i}=t.touches?t.touches[0]:t,a=e-this.dragState.startX,s=i-this.dragState.startY;this.displayedImages=this.displayedImages.map((t=>t.id===this.dragState.currentImage.id?{...t,position:{x:Math.max(0,Math.min(a,window.innerWidth-200)),y:Math.max(0,Math.min(s,window.innerHeight-200))},zIndex:Ot++}:t))},stopDrag(){this.dragState.isDragging=!1,document.removeEventListener("mousemove",this.handleDrag),document.removeEventListener("mouseup",this.stopDrag),document.removeEventListener("touchmove",this.handleDrag),document.removeEventListener("touchend",this.stopDrag)}}},Gt=Ft,Kt=(0,l.A)(Gt,Et,Rt,!1,null,"6e1cfad0",null),Ut=Kt.exports,zt={components:{Yinxiao:Ut,AIpicture:$t},name:"SIng2page"},Lt=zt,Vt=(0,l.A)(Lt,Pt,St,!1,null,null,null),qt=Vt.exports,Yt=function(){var t=this,e=t._self._c;return e("div",[e("g-ame")],1)},Bt=[],Ht=function(){var t=this,e=t._self._c;return e("div",{staticClass:"animated-entry",attrs:{id:"game"}},[e("div",{staticClass:"wave-bg"}),t._v(" "),t._m(0),e("audio",{ref:"audio",attrs:{src:t.song,preload:"auto"}}),t.gameStarted?e("div",{staticClass:"game-area"},[e("div",{staticClass:"floating-text"},[t._v(" 🎶 听到旋律后，站起来模仿角色的动作吧! 🎶 ")]),e("div",{staticClass:"action-card"},[t._m(1),e("transition",{attrs:{name:"fade",mode:"out-in"}},[e("div",{key:"currentAction",staticClass:"action-content"},[e("p",{staticClass:"action-description"},[t._v(t._s(t.currentActionDescription))]),e("img",{staticClass:"action-image bounce",attrs:{src:t.currentActionImage,alt:"模仿动作示范"}})])])],1),e("button",{staticClass:"stop-button hover-shake",on:{click:t.stopGame}},[t._v(" ⏹ 停止游戏 ")])]):e("div",{staticClass:"start-screen"},[e("button",{staticClass:"start-button pulse",on:{click:t.startGame}},[t._v(" 🎵 开始音乐游戏 ")])]),e("router-link",{staticClass:"magic-jump-button",attrs:{to:"/createtwo","active-class":"active-portal"}},[e("span",{staticClass:"portal-icon"},[t._v("🚪")]),e("span",{staticClass:"button-text"},[t._v("唱歌方法")]),e("div",{staticClass:"portal-effects"})])],1)},Xt=[function(){var t=this,e=t._self._c;return e("h1",[e("span",{staticClass:"music-note"},[t._v("♪")]),t._v(" 跟随模仿游戏: 《小船》 "),e("span",{staticClass:"music-note"},[t._v("♪")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"action-header"},[e("span",{staticClass:"animated-icon"},[t._v("💃")]),t._v(" 当前动作展示 "),e("span",{staticClass:"animated-icon"},[t._v("🕺")])])}],Wt={data(){return{song:"xiaochuang.mp3",gameStarted:!1,actions:[{image:"guzhang.jpg",description:"这是鼓掌动作"},{image:"paizhuo.jpg",description:"这是拍桌子的动作"}],currentAction:0,actionInterval:null}},computed:{currentActionImage(){return this.actions[this.currentAction].image},currentActionDescription(){return this.actions[this.currentAction].description}},methods:{startGame(){this.gameStarted=!0,this.currentAction=0,this.playSong(),this.showActions()},playSong(){this.$refs.audio.play()},showActions(){this.actionInterval=setInterval((()=>{this.currentAction=(this.currentAction+1)%this.actions.length}),5e3)},stopGame(){this.gameStarted=!1,this.$refs.audio.pause(),this.actionInterval&&clearInterval(this.actionInterval)}},beforeDestroy(){this.actionInterval&&clearInterval(this.actionInterval)}},Zt=Wt,Jt=(0,l.A)(Zt,Ht,Xt,!1,null,"311333ba",null),Qt=Jt.exports,te={components:{GAme:Qt},name:"XIn2page"},ee=te,ie=(0,l.A)(ee,Yt,Bt,!1,null,null,null),ae=ie.exports,se=function(){var t=this,e=t._self._c;return e("div",{staticClass:"children-page"},[t._m(0),t._m(1),t._m(2),e("router-link",{staticClass:"magic-jump-button",attrs:{to:"/singthree","active-class":"active-portal"}},[e("span",{staticClass:"portal-icon"},[t._v("🚪")]),e("span",{staticClass:"button-text"},[t._v("让我们们看看歌词")]),e("div",{staticClass:"portal-effects"})])],1)},ne=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"title-box"},[e("h1",[t._v("🎤 一起来学唱歌吧！🎵")]),e("div",{staticClass:"decorations"},[e("span",{staticClass:"star"},[t._v("⭐")]),e("span",{staticClass:"music-note"},[t._v("🎶")]),e("span",{staticClass:"flower"},[t._v("🌸")])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"teaching-section"},[e("div",{staticClass:"speech-bubble"},[e("p",[t._v("📣 看这里！正确的站立姿势像小树苗一样挺拔哦 🌱")])]),e("img",{staticClass:"sing-image bounce",attrs:{alt:"sing",src:"sing.png"}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"video-section"},[e("div",{staticClass:"speech-bubble"},[e("p",[t._v("🎬 魔法小课堂：声断气连就像吹泡泡一样神奇 🧼")])]),e("video",{staticClass:"magic-video",attrs:{src:"sdql.mp4",controls:"",poster:"image.png"}})])}],re={name:"CReate2Page"},oe=re,le=(0,l.A)(oe,se,ne,!1,null,"00cdb7c6",null),ce=le.exports,ue=function(){var t=this,e=t._self._c;return e("div",[e("p-ytb"),e("sing-viewone")],1)},de=[],pe=function(){var t=this,e=t._self._c;return e("div",{staticClass:"music-player"},[e("div",{staticClass:"player-controls"},[e("button",{staticClass:"play-button",on:{click:t.togglePlay}},[t._v(" "+t._s(t.isPlaying?"⏸ 暂停":"▶ 播放")+" ")]),e("span",{staticClass:"time"},[t._v(t._s(t.formatTime(t.currentTime)))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentTime,expression:"currentTime"}],staticClass:"progress-bar",attrs:{type:"range",max:t.duration},domProps:{value:t.currentTime},on:{input:t.seekAudio,__r:function(e){t.currentTime=e.target.value}}}),e("span",{staticClass:"time"},[t._v(t._s(t.formatTime(t.duration)))])]),e("div",{staticClass:"music-sheet"},[e("div",{staticClass:"staff-lines"}),t._v(" "),t._l(t.sheetMusic,(function(i,a){return e("div",{key:a,class:["music-note",{active:t.isNoteActive(i)}],style:{left:t.getNotePosition(i),top:`${t.getNoteTopPosition(i)}px`},on:{click:function(e){return t.jumpToNote(i)}}},[e("span",{staticClass:"pitch"},[t._v("🎵")]),e("span",{staticClass:"lyric"},[t._v(t._s(i.lyric))])])}))],2),e("audio",{ref:"audioPlayer",attrs:{src:"xiaochuang.mp3"},on:{timeupdate:t.updateProgress,loadedmetadata:t.initDuration}})])},me=[];const he=[{start:13.6,duration:.7,pitch:"56",lyric:"爸"},{start:14.3,duration:.4,pitch:"5",lyric:"爸"},{start:14.7,duration:.4,pitch:"3",lyric:"是"},{start:15.1,duration:.8,pitch:"2",lyric:"船"},{start:16,duration:.6,pitch:"56",lyric:"妈"},{start:16.6,duration:.4,pitch:"5",lyric:"妈"},{start:17,duration:.7,pitch:"3",lyric:"是"},{start:17.4,duration:1.5,pitch:"5",lyric:"帆"},{start:18.9,duration:.3,pitch:"5",lyric:"小"},{start:19.2,duration:.3,pitch:"56",lyric:"船"},{start:19.5,duration:.3,pitch:"5",lyric:"摇"},{start:19.8,duration:.3,pitch:"3",lyric:"着"},{start:20.1,duration:.9,pitch:"2",lyric:"我"},{start:21,duration:.4,pitch:"3",lyric:"的"},{start:21.4,duration:1.6,pitch:"126",lyric:"童"},{start:23,duration:1,pitch:"5",lyric:"年"},{start:24,duration:1.3,pitch:"61",lyric:"摇"},{start:25.1,duration:.8,pitch:"6",lyric:"呀"},{start:25.9,duration:.5,pitch:"1",lyric:"摇"},{start:26.4,duration:.4,pitch:"1",lyric:"摇"},{start:26.8,duration:.4,pitch:"2",lyric:"过"},{start:27.2,duration:.5,pitch:"35",lyric:"太"},{start:27.7,duration:.9,pitch:"2",lyric:"阳"},{start:28.6,duration:1.2,pitch:"3",lyric:"河"},{start:29.8,duration:1,pitch:"61",lyric:"摇"},{start:30.8,duration:.5,pitch:"6",lyric:"呀"},{start:31.3,duration:.7,pitch:"1",lyric:"摇"},{start:32,duration:.2,pitch:"1",lyric:"摇"},{start:32.2,duration:.4,pitch:"2",lyric:"过"},{start:32.6,duration:.4,pitch:"35",lyric:"月"},{start:33,duration:.6,pitch:"1",lyric:"亮"},{start:33.6,duration:1.4,pitch:"2",lyric:"湾"},{start:35,duration:.7,pitch:"35",lyric:"摇"},{start:35.7,duration:.5,pitch:"2",lyric:"过"},{start:36.2,duration:.5,pitch:"3",lyric:"了"},{start:36.7,duration:.7,pitch:"56",lyric:"一"},{start:37.4,duration:.7,pitch:"5",lyric:"天"},{start:38,duration:.6,pitch:"32",lyric:"又"},{start:38.6,duration:.6,pitch:"35",lyric:"一"},{start:39.2,duration:1.3,pitch:"216",lyric:"天"},{start:40.5,duration:.4,pitch:"6",lyric:"不"},{start:40.9,duration:.5,pitch:"5",lyric:"知"},{start:41.4,duration:.7,pitch:"61",lyric:"疲"},{start:42.1,duration:.6,pitch:"2",lyric:"倦"},{start:42.8,duration:.7,pitch:"3",lyric:"是"},{start:43.5,duration:.9,pitch:"5",lyric:"爸"},{start:44.4,duration:.4,pitch:"6",lyric:"爸"},{start:44.9,duration:.6,pitch:"32",lyric:"妈"},{start:45.5,duration:.3,pitch:"3",lyric:"妈"},{start:45.8,duration:.5,pitch:"3",lyric:"的"},{start:46.3,duration:2.6,pitch:"2.316",lyric:"心"},{start:48.9,duration:2.2,pitch:"2--0",lyric:"愿"},{start:51.1,duration:.5,pitch:"5",lyric:"是"},{start:51.6,duration:.4,pitch:"5",lyric:"爸"},{start:52,duration:.4,pitch:"6",lyric:"爸"},{start:52.4,duration:.3,pitch:"5",lyric:"妈"},{start:52.7,duration:.3,pitch:"3",lyric:"妈"},{start:53,duration:.5,pitch:"2",lyric:"的"},{start:53.5,duration:.8,pitch:"2",lyric:"心"},{start:54.3,duration:2,pitch:"23",lyric:"愿"}];var ve={data(){return{isPlaying:!1,currentTime:0,duration:0,sheetMusic:he}},methods:{togglePlay(){const t=this.$refs.audioPlayer;this.isPlaying?t.pause():t.play(),this.isPlaying=!this.isPlaying},updateProgress(){this.currentTime=this.$refs.audioPlayer.currentTime},initDuration(){this.duration=this.$refs.audioPlayer.duration},seekAudio(t){this.$refs.audioPlayer.currentTime=t.target.value},formatTime(t){const e=Math.floor(t/60),i=Math.floor(t%60);return`${e}:${i.toString().padStart(2,"0")}`},isNoteActive(t){return this.currentTime>=t.start&&this.currentTime<=t.start+t.duration},jumpToNote(t){this.$refs.audioPlayer.currentTime=t.start,this.isPlaying||this.togglePlay()},getNotePosition(t){const e=50,i=8,a=t.start%i*e;return`${a}px`},getNoteTopPosition(t){const e={C4:100,D4:90,E4:80,F4:70,G4:60,A4:50,B4:40};return e[t.pitch]||120}}},ge=ve,fe=(0,l.A)(ge,pe,me,!1,null,"57ed031c",null),ye=fe.exports,Ce=function(){var t=this,e=t._self._c;return e("div",{staticClass:"piano-container"},[t.audioActivated?e("div",{staticClass:"piano"},[t._l(t.whiteKeys,(function(i,a){return e("div",{key:a,staticClass:"key white",class:{active:i.active},on:{mousedown:function(e){return t.playNote(i.note)},mouseup:function(e){return t.releaseNote(i.note)},mouseleave:function(e){return t.releaseNote(i.note)}}},[e("span",{staticClass:"key-label"},[t._v(t._s(i.keyboard))])])})),t._l(t.blackKeys,(function(i,a){return e("div",{key:"b"+a,staticClass:"key black",class:{active:i.active},style:{left:i.position+"%"},on:{mousedown:function(e){return t.playNote(i.note)},mouseup:function(e){return t.releaseNote(i.note)},mouseleave:function(e){return t.releaseNote(i.note)}}},[e("span",{staticClass:"key-label"},[t._v(t._s(i.keyboard))])])}))],2):e("button",{staticClass:"activate-btn",on:{click:t.activateAudio}},[t._v(" 🎹 点击激活钢琴 ")]),e("router-link",{staticClass:"magic-jump-button",attrs:{to:"/createthree","active-class":"active-portal"}},[e("span",{staticClass:"portal-icon"},[t._v("🚪")]),e("span",{staticClass:"button-text"},[t._v("火车小游戏")]),e("div",{staticClass:"portal-effects"})])],1)},_e=[],be={name:"SIngpage",data(){return{show:!0,whiteKeys:[{note:"C4",active:!1},{note:"D4",active:!1},{note:"E4",active:!1},{note:"F4",active:!1},{note:"G4",active:!1},{note:"A4",active:!1},{note:"B4",active:!1}],blackKeys:[{note:"C#4",position:12.5,active:!1},{note:"D#4",position:25,active:!1},{note:"F#4",position:50,active:!1},{note:"G#4",position:62.5,active:!1},{note:"A#4",position:75,active:!1}],audioContext:null,audioActivated:!1}},mounted(){this.audioContext=new(window.AudioContext||window.webkitAudioContext),window.addEventListener("keydown",this.handleKeyDown),window.addEventListener("keyup",this.handleKeyUp)},beforeDestroy(){window.removeEventListener("keydown",this.handleKeyDown),window.removeEventListener("keyup",this.handleKeyUp)},methods:{async activateAudio(){this.audioContext=new(window.AudioContext||window.webkitAudioContext),this.audioActivated=!0},playNote(t){this.setKeyActive(t,!0),this.playSound(t)},releaseNote(t){this.setKeyActive(t,!1)},setKeyActive(t,e){const i=this.whiteKeys.find((e=>e.note===t));i&&(i.active=e);const a=this.blackKeys.find((e=>e.note===t));a&&(a.active=e)},playSound(t){const e=this.audioContext.createOscillator(),i=this.audioContext.createGain();e.connect(i),i.connect(this.audioContext.destination);const a={C4:261.63,"C#4":277.18,D4:293.66,"D#4":311.13,E4:329.63,F4:349.23,"F#4":369.99,G4:392,"G#4":415.3,A4:440,"A#4":466.16,B4:493.88};e.frequency.value=a[t]||440,e.type="sine",i.gain.setValueAtTime(.5,this.audioContext.currentTime),e.start(),setTimeout((()=>{e.stop(),i.disconnect()}),500)},handleKeyDown(t){const e=t.key.toUpperCase(),i=this.whiteKeys.find((t=>t.keyboard===e)),a=this.blackKeys.find((t=>t.keyboard===e));i&&!i.active&&this.playNote(i.note),a&&!a.active&&this.playNote(a.note)},handleKeyUp(t){const e=t.key.toUpperCase(),i=this.whiteKeys.find((t=>t.keyboard===e)),a=this.blackKeys.find((t=>t.keyboard===e));i&&this.releaseNote(i.note),a&&this.releaseNote(a.note)}}},we=be,xe=(0,l.A)(we,Ce,_e,!1,null,"620165a2",null),ke=xe.exports,Ae={components:{PYtb:ye,SingViewone:ke},name:"SIng3page"},Ie=Ae,Pe=(0,l.A)(Ie,ue,de,!1,null,null,null),Se=Pe.exports,Te=function(){var t=this,e=t._self._c;return e("div",[e("a-imusic")],1)},De=[],Me=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"control-panel"},[e("div",{staticClass:"decorative-corner tl"}),e("div",{staticClass:"decorative-corner tr"}),e("div",{staticClass:"decorative-corner bl"}),e("div",{staticClass:"decorative-corner br"}),e("h1",{staticClass:"title"},[t._v("✨ 魔法音乐工坊 🎶")]),e("div",{staticClass:"settings"},t._l(t.settings,(function(i,a){return e("div",{key:a,staticClass:"setting-item"},[e("div",{staticClass:"setting-icon"},[e("span",{class:i.icon})]),e("label",[t._v(t._s(i.label))]),e(i.type,t._b({tag:"component",style:i.style,model:{value:i.model,callback:function(e){t.$set(i,"model",e)},expression:"item.model"}},"component",i.props,!1))],1)})),0),e("div",{staticClass:"input-container"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],staticClass:"magic-input",attrs:{placeholder:"🖋️ 在这里写下你的魔法咒语..."},domProps:{value:t.text},on:{input:[function(e){e.target.composing||(t.text=e.target.value)},t.handleInput]}}),e("div",{staticClass:"input-effects"},t._l(t.sparkles,(function(t,i){return e("div",{key:i,staticClass:"sparkle",style:t.style})})),0)]),e("div",{staticClass:"controls"},[e("button",{staticClass:"magic-button",class:{"is-playing":t.isPlaying},on:{click:t.togglePlayback}},[e("span",{staticClass:"button-icon"},[t._v(t._s(t.isPlaying?"⏸":"▶"))]),e("span",{staticClass:"button-text"},[t._v(t._s(t.isPlaying?"暂停魔法":"施展音乐咒语"))]),e("div",{staticClass:"button-effects"})])]),t.isPlaying?e("div",{staticClass:"magic-progress"},[e("div",{staticClass:"progress-track"}),e("div",{staticClass:"progress-fill",style:{width:100*t.progress+"%",background:`linear-gradient(90deg, ${t.progressGradient})`}}),e("div",{staticClass:"progress-sparkles"})]):t._e()]),e("router-link",{staticClass:"magic-jump-button",attrs:{to:"/two","active-class":"active-portal"}},[e("span",{staticClass:"portal-icon"},[t._v("🚪")]),e("span",{staticClass:"button-text"},[t._v("评论")]),e("div",{staticClass:"portal-effects"})])],1)},je=[];i(16573),i(78100),i(77936),i(37467),i(44732),i(79577);const Ne={major:[261.63,293.66,329.63,349.23,392,440,493.88],blues:[261.63,311.13,392,415.3,466.16,523.25],chromatic:Array.from({length:24},((t,e)=>220*Math.pow(2,e/12)))};var $e={data(){return{settings:[{icon:"fas fa-waveform",label:"魔法音波",type:"select",model:"waveType",props:{options:[{text:"精灵之波",value:"sine"},{text:"矮人铁砧",value:"square"},{text:"龙之利齿",value:"sawtooth"},{text:"魔法三角",value:"triangle"}]}}],text:"",isPlaying:!1,audioContext:null,currentNotes:[],waveType:"sine",tempo:120,volume:.7,animationFrame:null,startTime:0,progress:0,sparkles:[],progressGradient:""}},watch:{progress(t){this.progressGradient=this.calculateGradient(t)}},computed:{noteDuration(){return 60/this.tempo},textareaStyle(){return{borderColor:this.isPlaying?"#4CAF50":"#ccc",transition:"border-color 0.3s ease"}},progressStyle(){return{width:100*this.progress+"%",backgroundColor:`hsl(${120*this.progress}, 70%, 50%)`}}},methods:{handleInput(){this.text.length%3===0&&(this.sparkles.push({style:{left:100*Math.random()+"%",top:100*Math.random()+"%",animation:`sparkle ${.5+Math.random()}s linear`}}),this.sparkles.length>20&&this.sparkles.shift())},async togglePlayback(){this.isPlaying?this.stopPlayback():await this.generateMusic()},async generateMusic(){if(this.text.trim())try{this.audioContext=this.audioContext||new(window.AudioContext||window.webkitAudioContext),await this.audioContext.resume(),this.isPlaying=!0,this.startTime=this.audioContext.currentTime,this.scheduleNotes(),this.setupVisualizer(),this.updateProgress()}catch(t){console.error("音频播放错误:",t)}},scheduleNotes(){const t=this.analyzeText(this.text),e=this.audioContext.createAnalyser();e.connect(this.audioContext.destination),t.forEach(((t,i)=>{const a=this.startTime+i*this.noteDuration;if(t.freq){const i=this.audioContext.createOscillator(),s=this.audioContext.createGain();i.type=this.waveType,i.frequency.setValueAtTime(t.freq,a),s.gain.setValueAtTime(.5*this.volume,a),s.gain.exponentialRampToValueAtTime(.01,a+t.duration),i.connect(s),s.connect(e),i.start(a),i.stop(a+t.duration),this.currentNotes.push(i)}}))},analyzeText(t){return t.toLowerCase().split("").map(((t,e)=>({freq:this.getNoteFrequency(t,e),duration:this.getNoteDuration(t)})))},getNoteFrequency(t,e){if(Math.random()<.2)return null;const i=Ne[e%2===0?"major":"blues"],a=t.charCodeAt(0)%i.length;return i[a]*(1+Math.floor(e/8))},getNoteDuration(t){const e={".":1.5,",":.75,"!":2,"?":1.8," ":.2};return this.noteDuration*(e[t]||1)},setupVisualizer(){const t=this.$refs.visualizer,e=t.getContext("2d"),i=this.audioContext.createAnalyser();i.fftSize=256;const a=i.frequencyBinCount,s=new Uint8Array(a),n=()=>{if(!this.isPlaying)return;i.getByteFrequencyData(s),e.fillStyle="rgba(0, 0, 0, 0.1)",e.fillRect(0,0,t.width,t.height);const r=t.width/a*2.5;let o=0;s.forEach(((i,s)=>{const n=360*s/a;e.fillStyle=`hsl(${n}, 70%, 50%)`;const l=i/2;e.fillRect(o,t.height-l,r,l),o+=r+1})),this.animationFrame=requestAnimationFrame(n)};t.width=this.$refs.canvasContainer.offsetWidth,t.height=150,n()},updateProgress(){const t=this.text.length*this.noteDuration,e=()=>{if(!this.isPlaying)return;const i=this.audioContext.currentTime-this.startTime;this.progress=Math.min(i/t,1),requestAnimationFrame(e)};e()},stopPlayback(){this.currentNotes.forEach((t=>t.stop())),this.currentNotes=[],this.isPlaying=!1,cancelAnimationFrame(this.animationFrame),this.progress=0},exportMIDI(){console.log("MIDI导出功能需额外实现")}},beforeDestroy(){this.stopPlayback()}},Ee=$e,Re=(0,l.A)(Ee,Me,je,!1,null,null,null),Oe=Re.exports,Fe={components:{AImusic:Oe},name:"XIn3page"},Ge=Fe,Ke=(0,l.A)(Ge,Te,De,!1,null,null,null),Ue=Ke.exports,ze=function(){var t=this,e=t._self._c;return e("div",[e("SISI")],1)},Le=[],Ve=function(){var t=this,e=t._self._c;return e("div",{staticClass:"game-container"},[t._m(0),t.allCorrect?e("div",{staticClass:"police"},[t._v("🚓交警：可以出发啦！")]):e("div",{staticClass:"police"},[t._v("🚓交警：这列火车的节拍有问题！")]),e("div",{staticClass:"train-track"},[e("div",{staticClass:"train",class:{moving:t.allCorrect}},[e("div",{staticClass:"carriage engine"},[e("div",{staticClass:"cowcatcher"}),e("div",{staticClass:"smokestack"},t._l(3,(function(t){return e("div",{key:t,staticClass:"smoke"})})),0),e("div",{staticClass:"headlight"}),e("div",{staticClass:"wheel-group"},t._l(4,(function(t){return e("div",{key:t,staticClass:"wheel"})})),0)]),t._l(t.carriages,(function(i,a){return e("div",{key:a,staticClass:"carriage",class:{correct:i.isCorrect}},[e("div",{staticClass:"roof"}),t._l(2,(function(t){return e("div",{key:t,staticClass:"window"})})),e("div",{staticClass:"wheel-group"},t._l(4,(function(t){return e("div",{key:t,staticClass:"wheel"})})),0),t._l(i.notes,(function(i,s){return e("div",{key:s,staticClass:"note",on:{click:function(e){return t.changeNote(a,s)}}},[t._v(" "+t._s(i.symbol)+" "),e("div",{staticClass:"duration"},[t._v(t._s(i.duration)+"拍")])])})),e("div",{staticClass:"time-signature"},[t._v("4/4")])],2)}))],2)]),e("div",{staticClass:"controls"},[e("button",{staticClass:"cartoon-btn",class:{dancing:t.allCorrect},on:{click:t.checkAll}},[e("span",{staticClass:"sparkle"},[t._v("✨")]),t._v(" 检查所有车厢 "),e("span",{staticClass:"sparkle"},[t._v("🎵")])])]),e("router-link",{staticClass:"magic-jump-button",attrs:{to:"/about","active-class":"active-portal"}},[e("span",{staticClass:"portal-icon"},[t._v("🚪")]),e("span",{staticClass:"button-text"},[t._v("音乐小游戏")]),e("div",{staticClass:"portal-effects"})])],1)},qe=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"background"},[e("div",{staticClass:"clouds"}),e("div",{staticClass:"mountains"}),e("div",{staticClass:"trees"})])}],Ye=(i(81148),{data(){return{carriages:[{notes:[{symbol:"𝅘𝅥",duration:2},{symbol:"𝅘𝅥",duration:3},{symbol:"𝅘𝅥",duration:1},{symbol:"𝅗𝅥",duration:1}],isCorrect:!1}],trainState:"waiting",noteOptions:[{symbol:"𝅝",duration:4},{symbol:"𝅗𝅥",duration:2},{symbol:"𝅘𝅥",duration:1},{symbol:"𝅘𝅥𝅮",duration:.5}]}},computed:{allCorrect(){return this.carriages.every((t=>t.isCorrect))}},methods:{handleButtonClick(){"moving"===this.trainState?this.returnTrain():this.checkAll()},returnTrain(){this.trainState="returning",setTimeout((()=>{this.trainState="waiting"}),1e3)},checkCarriage(t){const e=t.notes.reduce(((t,e)=>t+e.duration),0);t.isCorrect=4===e},changeNote(t,e){const i=this.carriages[t].notes[e],a=this.noteOptions.findIndex((t=>t.symbol===i.symbol)),s=(a+1)%this.noteOptions.length;this.$set(this.carriages[t].notes,e,{...this.noteOptions[s]}),this.checkCarriage(this.carriages[t])},checkAll(){this.carriages.forEach(this.checkCarriage),this.allCorrect&&(this.trainState="moving")}}}),Be=Ye,He=(0,l.A)(Be,Ve,qe,!1,null,"b6cf03a2",null),Xe=He.exports,We={name:"CReate3page",components:{SISI:Xe}},Ze=We,Je=(0,l.A)(Ze,ze,Le,!1,null,null,null),Qe=Je.exports,ti=function(){var t=this,e=t._self._c;return e("div",{staticClass:"map-container"},[e("v-chart",{staticStyle:{width:"100%",height:"100vh"},attrs:{options:t.mapOptions,autoresize:!0},on:{click:t.handleMapClick}})],1)},ei=[],ii={data(){return{mapOptions:{title:{text:"中国地图",left:"center"},tooltip:{trigger:"item",formatter:"{b}"},series:[{name:"中国",type:"map",mapType:"china",roam:!1,label:{show:!0,color:"#333"},itemStyle:{areaColor:"#e7f0fd",borderColor:"#398fde"},emphasis:{label:{color:"#fff"},itemStyle:{areaColor:"#398fde"}}}]}}},methods:{handleMapClick(t){t.name&&this.$router.push({path:`/province/${t.name}`})}}},ai=ii,si=(0,l.A)(ai,ti,ei,!1,null,"1be9f116",null),ni=si.exports,ri=function(){var t=this,e=t._self._c;return e("div",{staticClass:"detail-container"},[e("h2",[t._v(t._s(t.provinceName)+" 详细信息")]),e("button",{on:{click:function(e){return t.$router.go(-1)}}},[t._v("返回地图")]),t.provinceData?e("div",[e("p",[t._v("面积："+t._s(t.provinceData.area)+" 平方公里")]),e("p",[t._v("人口："+t._s(t.provinceData.population)+" 万")])]):t._e()])},oi=[];const li={"北京":{area:16410,population:2189},"广东":{area:179700,population:12601}};var ci={props:["name"],data(){return{provinceData:null}},computed:{provinceName(){return this.name||"未知省份"}},created(){this.fetchData()},methods:{fetchData(){this.provinceData=li[this.provinceName]||null}}},ui=ci,di=(0,l.A)(ui,ri,oi,!1,null,"2c15e148",null),pi=di.exports,mi=function(){var t=this,e=t._self._c;return e("div",[e("yinxiao"),e("a-ipicture"),e("g-ame"),e("create-viewtwo"),e("p-ytb"),e("sing-viewone"),e("sisi"),e("instru-ment"),e("one-view"),e("zuo-ye"),e("a-imusic"),e("two-view")],1)},hi=[],vi={components:{AIpicture:$t,Yinxiao:Ut,GAme:Qt,CreateViewtwo:ce,PYtb:ye,SingViewone:ke,InstruMent:M,OneView:z,ZuoYe:it,AImusic:Oe,TwoView:H}},gi=vi,fi=(0,l.A)(gi,mi,hi,!1,null,null,null),yi=fi.exports;a["default"].use(d.Ay);const Ci=[{path:"/chinamap",component:ni},{path:"/province/:name",name:"ProvinceDetail",component:pi,props:!0},{path:"/kj",name:"kj",component:yi},{path:"/",name:"home",component:f},{path:"/about",name:"about",component:E},{path:"/kecheng",name:"kecheng",component:x},{path:"/xinone",name:"xinone",component:_t},{path:"/createone",name:"createone",component:It},{path:"/one",name:"one",component:z},{path:"/singtwo",name:"singtwo",component:qt},{path:"/xintwo",name:"xintwo",component:ae},{path:"/createtwo",name:"createtwo",component:ce},{path:"/two",name:"two",component:H},{path:"/singthree",name:"singthree",component:Se},{path:"/xinthree",name:"xinthree",component:Ue},{path:"/createthree",name:"createthree",component:Qe},{path:"/three",name:"three",component:rt}],_i=new d.Ay({routes:Ci,mode:"hash"});var bi=_i,wi=i(95353);a["default"].use(wi.Ay);var xi=new wi.Ay.Store({state:{isPlaying:!1,currentTime:0,score:0,combo:0,rhythmNotes:[]},getters:{},mutations:{SET_PLAYING(t,e){t.isPlaying=e},UPDATE_TIME(t,e){t.currentTime=e},ADD_SCORE(t,e){t.score+=e,t.combo+=1},RESET_COMBO(t){t.combo=0}},actions:{},modules:{}}),ki=i(31052),Ai=i.n(ki),Ii=i(1412),Pi=(i(97949),i(73869)),Si=(i(22241),i(12369));a["default"].use(Ai(),{size:"small",zIndex:3e3}),a["default"].use(Pi.Ay),a["default"].component("v-chart",Ii.A),a["default"].config.productionTip=!1,Si._K2.remoteHost="https://hf-mirror.com",Si._K2.remotePathTemplate="{model}/resolve/{revision}/{file}",Si._K2.localURL="/models/",new a["default"]({router:bi,store:xi,render:t=>t(u)}).$mount("#app")},80551:function(){},83052:function(){},85817:function(){},94984:function(){}},e={};function i(a){var s=e[a];if(void 0!==s)return s.exports;var n=e[a]={id:a,loaded:!1,exports:{}};return t[a].call(n.exports,n,n.exports,i),n.loaded=!0,n.exports}i.m=t,function(){i.amdD=function(){throw new Error("define cannot be used indirect")}}(),function(){i.amdO={}}(),function(){var t=[];i.O=function(e,a,s,n){if(!a){var r=1/0;for(u=0;u<t.length;u++){a=t[u][0],s=t[u][1],n=t[u][2];for(var o=!0,l=0;l<a.length;l++)(!1&n||r>=n)&&Object.keys(i.O).every((function(t){return i.O[t](a[l])}))?a.splice(l--,1):(o=!1,n<r&&(r=n));if(o){t.splice(u--,1);var c=s();void 0!==c&&(e=c)}}return e}n=n||0;for(var u=t.length;u>0&&t[u-1][2]>n;u--)t[u]=t[u-1];t[u]=[a,s,n]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){var t,e=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__};i.t=function(a,s){if(1&s&&(a=this(a)),8&s)return a;if("object"===typeof a&&a){if(4&s&&a.__esModule)return a;if(16&s&&"function"===typeof a.then)return a}var n=Object.create(null);i.r(n);var r={};t=t||[null,e({}),e([]),e(e)];for(var o=2&s&&a;"object"==typeof o&&!~t.indexOf(o);o=e(o))Object.getOwnPropertyNames(o).forEach((function(t){r[t]=function(){return a[t]}}));return r["default"]=function(){return a},i.d(n,r),n}}(),function(){i.d=function(t,e){for(var a in e)i.o(e,a)&&!i.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){i.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={524:0};i.O.j=function(e){return 0===t[e]};var e=function(e,a){var s,n,r=a[0],o=a[1],l=a[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(s in o)i.o(o,s)&&(i.m[s]=o[s]);if(l)var u=l(i)}for(e&&e(a);c<r.length;c++)n=r[c],i.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return i.O(u)},a=self["webpackChunkstudent1"]=self["webpackChunkstudent1"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=i.O(void 0,[547,707,939,180,305,254,341,534,33,968,768,842],(function(){return i(60506)}));a=i.O(a)})();
//# sourceMappingURL=app.fe423b48.js.map